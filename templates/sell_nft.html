{% load static %}
<!doctype html>
<html class="no-js" lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NFT Marketplace - 1inch</title>
    <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon"> <!-- Favicon-->

    <!-- Project css file -->
    <link rel="stylesheet" href="{% static 'css/custom.style.min.css' %}">
</head>
<body style="background-color: #080b13">
    <div id="IUC" class="theme-blue">
        
      <!-- Top Header -->
      <nav class="navbar navbar-expand-xl py-lg-2 lp-menu">
         <div class="container py-2 rounded">
            <a class="navbar-brand pt-2 order-1" href="/buy" title="Logo">
               <img src="https://cryptologos.cc/logos/1inch-1inch-logo.png" alt="1inch" width="50px" height="50px">
               <!--<span class="fw-bold  fs-5 px-2">1inch</span>-->
            </a>
            <div class="d-flex align-items-center order-2 order-md-2 order-xl-3">
               <form id="walletform" class="d-md-flex d-none align-items-center">
                  <a href="#" data-bs-toggle="modal" data-bs-target="#walletconnect" class="text-white bg-primary-gradient avatar rounded-circle d-flex align-items-center justify-content-center mx-2">
                        <i class="bi bi-wallet2 fs-5"></i>
                  </a>
               </form>
               <div id="current_address" style="background-color: var(--primary-color)" hidden class="bg-blue-100 px-4 py-1 text-sm rounded-full text-black font-semibold"></div>
               <div class="d-flex align-items-center">
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-expanded="false">
                     <span class="navbar-toggler-icon"><i class="fa fa-bars"></i></span>
                  </button>
               </div>
            </div>
            <div class="collapse navbar-collapse order-3 order-md-3 order-xl-2" id="navbarSupportedContent">
               <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                   <li class="nav-item"><a class="nav-link me-2 lead" href="">Home</a></li>
                   <li class="nav-item"><a class="nav-link me-2 lead" href="">Explore</a></li>
                   <li class="nav-item"><a class="nav-link me-2 lead" href="/buy">Buy</a></li>
                   <li class="nav-item"><a class="nav-link me-2 lead active" href="/sell">Sell</a></li>
                   <li class="nav-item"><a class="nav-link me-2 lead" href="/sell">Orders</a></li>
                   <li class="nav-item dropdown">
                       <a class="nav-link me-2 lead dropdown-toggle p-xl-2" href="#" id="stasnavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Stats</a>
                       <ul class="dropdown-menu" aria-labelledby="stasnavbarDropdown">
                           <li><a class="dropdown-item" href="../../html/dist/ranking.html">Ranking</a></li>
                           <li><a class="dropdown-item" href="activity.html">Activity</a></li>
                       </ul>
                   </li>
               </ul>
            </div>
         </div>
      </nav>

      <!-- Customized Page Option -->
      <div class="container position-relative">
         <div class="row clearfix">
            <div class="col-md-12">
               <div class="card shadow menu slidedown position-absolute zindex-modal">
                  <div class="card-body">
                     <div class="row g-3">
                        <div class="col-lg-3">
                           <ul class="list-unstyled mb-0">
                              <li class="fs-6 mb-2"><a href="table.html" title="">Table Option</a></li>
                              <li class="fs-6 mb-2"><a href="carousel.html" title="">Carousel</a></li>
                              <li class="fs-6 mb-2"><a href="form.html" title="">Form Option</a></li>
                              <li class="fs-6"><a href="form-wizard.html" title="">Form Wizard</a></li>
                           </ul>
                        </div>
                        <div class="col-lg-3">
                           <ul class="list-unstyled mb-0">
                              <li class="fs-6 mb-2"><a href="signin.html" title="">Signin</a></li>
                              <li class="fs-6 mb-2"><a href="signup.html" title="">Signup</a></li>
                              <li class="fs-6 mb-2"><a href="forgot-password.html" title="">Forgot PassWord</a></li>
                              <li class="fs-6 mb-2"><a href="verification.html" title="">Verification</a></li>
                              <li class="fs-6"><a href="404page.html" title="">404 Page</a></li>    
                           </ul>
                        </div>
                        <div class="col-lg-3">
                           <ul class="list-unstyled mb-0">
                              <li class="fs-6 mb-2"><a href="createnft.html" title="">Create NFT</a></li>
                              <li class="fs-6 mb-2"><a href="uploadvariant.html" title="">Upload Variants</a></li>
                              <li class="fs-6 mb-2"><a href="ranking.html" title="">Ranking</a></li>
                              <li class="fs-6 mb-2"><a href="activity.html" title="">Activity</a></li>
                              <li class="fs-6 mb-2"><a href="bid.html" title="">Place Bid</a></li>
                              <li class="fs-6"><a href="collection.html" title="">Collection Activity</a></li>
                           </ul>
                        </div>
                        <div class="col-lg-3">
                           <ul class="list-unstyled mb-0">
                              <li class="fs-6 mb-2"><a href="created.html" title="">Profile Created</a></li>
                              <li class="fs-6 mb-2"><a href="profile-edit.html" title="">Profile Edit</a></li>
                              <li class="fs-6 mb-2"><a href="help.html" title="">Support</a></li>
                              <li class="fs-6"><a href="help-detail.html" title="">Support Detail</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <!-- Bid Detail -->
      <div class="section pb-0">
         <div class="container">
               <div class="row g-3 mt-2 mb-5">
                  <div class="col-12">
                     <div class="card mt-5">
                           <div class="card-body">
                              <div class="row g-3">
                                 <div class="col-lg-4 col-md-12">
                                       <img class="img-fluid rounded-3 w-100" src="{{ image_url }}" alt="title">
                                 </div>
                                 <div class="col-lg-8 col-md-12">
                                     <form id="form" method="post">{% csrf_token %}
                                         <div class="px-lg-4">
                                       <h3 class="mb-0"><strong>{{ title }}</strong></h3>
                                       <span style="margin-top: 4rem;padding-top: 10px;" class="lead mt-3 d-block">Price</span>
                                       <div class="card-porduct-price d-flex align-items-center mb-3 color-price-up">
                                          <h4 class="d-flex align-items-center">
                                              <input type="number" name="eth" id="eth_value" class="currencyField form-control bg-transprant" placeholder="WETH">
                                          </h4><h4 class="ms-2">â‰ˆ $</h4>
                                          <h4 id="price" class="ms-2"></h4>
                                       </div>
                                       <div class="d-flex align-items-top flex-wrap">
                                           <div class="pe-3">
                                               <div style="margin-bottom: 21px;" class="input-group">
                                                    <span class="input-group-text">Expires</span>
                                                    <select onchange="select_change()" id="expire_select" class="form-select" aria-label="Select expire time">
                                                        <option value="1" selected>1 minute</option>
                                                        <option value="2">10 minute</option>
                                                        <option value="3">1 Hour</option>
                                                        <option value="4">1 Day</option>
                                                        <option value="5">3 Days</option>
                                                        <option value="6">7 Days</option>
                                                        <option value="7">30 Days</option>
                                                        <option value="8">3 Months</option>
                                                        <option value="9">6 Months</option>
                                                        <option value="10">1 Year</option>
                                                        <option value="11">2 Years</option>
                                                        <option value="12">3 Years</option>
                                                        <option value="13">Custom</option>
                                                    </select>
                                               </div>

                                               <div style="margin-bottom: 21px;display: none" id="custom_expire" class="form-row align-items-center">
                                                    <div class="col-auto">
                                                      <label class="sr-only" for="hour_custom">Hours</label>
                                                      <div class="input-group mb-2">
                                                        <div class="input-group-prepend">
                                                          <div class="input-group-text">Hours</div>
                                                        </div>
                                                        <input type="number" min="0" max="87600" class="form-control" id="hour_custom" placeholder="10">
                                                      </div>
                                                    </div>
                                                    <div class="col-auto">
                                                      <label class="sr-only" for="minute_custom">Minutes</label>
                                                      <div class="input-group mb-2">
                                                        <div class="input-group-prepend">
                                                          <div class="input-group-text">Minutes</div>
                                                        </div>
                                                        <input type="number" min="0" max="59" class="form-control" id="minute_custom" placeholder="5">
                                                      </div>
                                                    </div>
                                                </div>

                                               <div style="margin-bottom: 0.75rem;" class="form-check">
                                                  <input class="form-check-input" type="checkbox" value="" onchange="another_receiver()" id="flexCheckDefault">
                                                  <label class="form-check-label" for="flexCheckDefault">
                                                      Receive WETH to another wallet
                                                  </label>
                                              </div>

                                               <div style="display: none;margin-bottom: 21px;" id="another_address_form">
                                                  <div class="input-group mb-2">
                                                      <div class="input-group-prepend">
                                                          <div class="input-group-text">Address</div>
                                                      </div>
                                                      <input type="text" class="form-control" id="address_receiver" placeholder="0x">
                                                  </div>
                                              </div>

                                               <a id="sell_submit" data-bs-toggle="modal" class="d-inline-flex align-items-center justify-content-center border border-primary py-2 px-4 rounded-pill ct-btn m-1">
                                                   <span class="me-2">
                                                         <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path opacity="0.6" d="M5.5 27.5V26C5.503 25.752 5.588 24.5 7 24.5H21C21.248 24.503 22.5 24.589 22.5 26V27.5H5.5ZM16.937 22.257L21.187 18.007C22.181 17.013 21.36 16.07 21.187 15.894L18.653 13.36C18.653 13.36 24.853 8.68099 25.427 8.10699C26.012 7.52199 26.267 6.85799 26.184 6.13499C26.119 5.56599 25.835 4.98199 25.428 4.57599C25.173 4.34199 24.484 3.79999 23.6 3.79999C23.174 3.79999 22.534 3.93399 21.894 4.57399C20.689 5.77899 16.631 11.339 16.631 11.339L14.107 8.81399C13.788 8.49499 13.458 8.33999 13.1 8.33999C12.486 8.33999 11.996 8.81099 11.994 8.81399L7.744 13.064C6.749 14.06 7.572 15.01 7.744 15.187L14.81 22.253C15.145 22.581 15.479 22.74 15.831 22.74C16.435 22.74 16.934 22.26 16.937 22.257Z" fill="var(--primary-color)"></path>
                                                            <path opacity="0.2" d="M7.756 15.193C7.1 14.496 7.1 13.702 7.746 13.056L11.976 8.82599C12.046 8.76199 12.526 8.33899 13.1 8.33899C13.229 8.33899 13.622 8.33899 14.108 8.80999L15.165 9.88099L8.811 16.247L7.756 15.193ZM16.943 22.254L21.183 18.014C21.829 17.368 21.829 16.574 21.17 15.874L20.117 14.836L13.751 21.19L14.815 22.253C15.142 22.58 15.474 22.739 15.829 22.739C16.292 22.74 16.704 22.455 16.943 22.254Z" fill="var(--text-color)"></path>
                                                            <path d="M25.78 4.21999C25.68 4.12999 24.82 3.29999 23.6 3.29999C23.08 3.29999 22.3 3.45999 21.54 4.21999C20.2 5.55999 17.17 9.73999 16.57 10.57L14.46 8.45999C13.99 7.98999 13.52 7.83999 13.1 7.83999C12.26 7.83999 11.64 8.45999 11.64 8.45999L7.39 12.71C5.98 14.12 7.39 15.54 7.39 15.54L14.46 22.61C14.94 23.08 15.41 23.24 15.83 23.24C16.66 23.24 17.29 22.61 17.29 22.61L21.54 18.36C22.95 16.95 21.54 15.54 21.54 15.54L19.42 13.42C20.22 12.84 24.43 9.80999 25.78 8.45999C27.33 6.90999 26.63 5.06999 25.78 4.21999ZM8.11 14.84C7.79 14.5 7.53 13.98 8.1 13.41L12.33 9.17999C12.44 9.07999 12.77 8.83999 13.1 8.83999C13.18 8.83999 13.42 8.83999 13.76 9.16999L14.46 9.87999L8.81 15.54L8.11 14.84ZM13.76 20.49L9.51 16.24L15.17 10.59L19.41 14.83L13.76 20.49ZM20.12 15.54L20.82 16.23C21.139 16.57 21.4 17.09 20.83 17.66L16.59 21.9C16.53 21.95 16.18 22.24 15.83 22.24C15.75 22.24 15.51 22.24 15.17 21.9L14.46 21.19L20.12 15.54ZM25.07 7.75999C23.66 9.16999 18.71 12.71 18.71 12.71L17.29 11.29C17.29 11.29 20.83 6.33999 22.24 4.92999C22.71 4.45999 23.19 4.29999 23.6 4.29999C24.441 4.29999 25.071 4.92999 25.071 4.92999C25.071 4.92999 26.49 6.33999 25.07 7.75999ZM21 24H7C5 24 5 26 5 26V28H23V26C23 24 21 24 21 24ZM22 27H6V26.01C6.01 25.55 6.19 25 7 25H20.99C21.45 25.01 22 25.2 22 26V27V27Z" fill="var(--text-color)"></path>
                                                         </svg>
                                                   </span>
                                                   PLACE SELL ORDER
                                                </a>
                                          </div>
                                       </div>
                                    </div>
                                     </form>
                                 </div>
                                 <div class="col-lg-12">
                                       <h4 class="text-primary">Description</h4>
                                       <div class="mt-3 border border-dashed p-3">
                                          <p>{{ description }}</p>
                                       </div>
                                 </div>
                              </div>
                           </div>
                     </div>
                  </div>
               </div>

               <div class="row g-1">
               </div>
         </div>
      </div>
    </div>

    <!-- ONLY FOR DEVELOPMENT -->
    <input type="hidden" id="api" name="variable" value="{{ api }}">

    <input type="hidden" id="contract_value" name="variable" value="{{ contract }}">
    <input type="hidden" id="id_value" name="variable" value="{{ id }}">

    <script src="https://unpkg.com/es7-object-polyfill"></script>

    <script type="module" src="{% static 'limitorder.js' %}"></script>

    <!-- Jquery Core Js -->
    <script src="{% static 'bundles/libscripts.bundle.js' %}"></script>

    <!-- Plugin Js -->
    <script src="{% static 'bundles/countdown.bundle.js' %}"></script>

    <!-- Jquery Page Js -->
    <script src="{% static 'template.js' %}"></script>

    <script>
        function select_change() {
            if(document.getElementById('expire_select').value === "13") {
                document.getElementById('custom_expire').style.display = "block";
            }
            else {
                document.getElementById('custom_expire').style.display = "none";
            }
        }

        function another_receiver() {
            if (document.getElementById('flexCheckDefault').checked) {
                document.getElementById('another_address_form').style.display = "block";
            } else {
                document.getElementById('another_address_form').style.display = "none";
            }
        }

        $(".currencyField").keyup(function(){ //input[name='calc']
         let convFrom;
         if($(this).prop("name") == "eth") {
               convFrom = "eth";
               convTo = "usd";
         }
         else {
               convFrom = "usd";
               convTo = "eth";
         }
         $.getJSON( "https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=ethereum",
            function( data) {
            var origAmount = parseFloat($("input[name='" + convFrom + "']").val());
            var exchangeRate = parseInt(data[0].current_price);
            let amount;
            if(convFrom == "eth")
               amount = parseFloat(origAmount * exchangeRate);
            else
               amount = parseFloat(origAmount/ exchangeRate);
            $("input[name='" + convTo + "']").val(amount.toFixed(2));
            price.innerHTML = amount
            });
        });
    </script>

    <style>

        a:hover {
         cursor:pointer;
        }

      .rounded-md {
        border-radius: 0.375rem;
      }

      .rounded-lg {
        border-radius: 0.5rem;
      }

      .rounded-full {
        border-radius: 9999px;
      }
   </style>
</body>
</html> 